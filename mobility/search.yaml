default:
  callback: "on_search"
  uri:
    $ref: ""
  delay: 300
  payload:
    $ref: "./default/template/error.yaml"




# json_mapper_metro_search:
#   condition:
#       operation:
#         type: AND
#         input:
#           value:
#           - operation:
#               type: EQUAL
#               title: Check search message code
#               input:
#                 value:
#                   - operation:
#                       type: READ
#                       input:
#                         value: "req_body.context.json"
#                   - undefined
#   callback: "on_search"
#   uri:
#     $ref: ""
#   delay: 300
#   payload:
#     $ref: "./metro_jsonmapper/template/on_search.yaml"


intercity-bus-station-code2:
  condition:
      operation:
        type: AND
        input:
          value:
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.message.intent.fulfillment.stops.0.location.gps"
                  - undefined
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.message.intent.fulfillment.vehicle.category"
                  - BUS
          - operation:
                type: EQUAL
                title: Check search message code
                input:
                  value:
                    - operation:
                        type: READ
                        input:
                          value: "req_body.context.domain"
                    - "ONDC:TRV12"
          - operation:
                type: EQUAL
                title: Check search message code
                input:
                  value:
                    - operation:
                        type: READ
                        input:
                          value: "req_body.context.version"
                    - 2.0.0
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.message.intent.fulfillment.stops.0.time.label"
                  - DATE_OF_JOURNEY
  callback: "on_search"
  uri:
    $ref: ""
  delay: 300
  payload:
    $ref: "./intercity-bus/template/on_search-stationcode-pointab.yaml"




intercity-bus-station-code1:
  condition:
      operation:
        type: AND
        input:
          value:
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.message.intent.fulfillment.stops.0.location.gps"
                  - undefined
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.message.intent.fulfillment.vehicle.category"
                  - BUS
          - operation:
                type: EQUAL
                title: Check search message code
                input:
                  value:
                    - operation:
                        type: READ
                        input:
                          value: "req_body.context.domain"
                    - "ONDC:TRV12"
          - operation:
                type: EQUAL
                title: Check search message code
                input:
                  value:
                    - operation:
                        type: READ
                        input:
                          value: "req_body.context.version"
                    - 2.0.0
  callback: "on_search"
  uri:
    $ref: ""
  delay: 300
  payload:
    $ref: "./intercity-bus/template/on_search-stationcode.yaml"

intercity-bus-station-code3:
  condition:
      operation:
        type: AND
        input:
          value:
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.message.intent.fulfillment.stops.0.location"
                  - undefined
          - operation:
                type: EQUAL
                title: Check search message code
                input:
                  value:
                    - operation:
                        type: READ
                        input:
                          value: "req_body.context.domain"
                    - "ONDC:TRV12"
          - operation:
                type: EQUAL
                title: Check search message code
                input:
                  value:
                    - operation:
                        type: READ
                        input:
                          value: "req_body.context.version"
                    - 2.0.0
  callback: "on_search"
  uri:
    $ref: ""
  delay: 300
  payload:
    $ref: "./intercity-bus/template/on_search-stationcode3.yaml"




intercity-bus-gps1:
  condition:
      operation:
        type: AND
        input:
          value:
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.message.intent.fulfillment.vehicle.category"
                  - BUS
          - operation:
                type: EQUAL
                title: Check search message code
                input:
                  value:
                    - operation:
                        type: READ
                        input:
                          value: "req_body.context.domain"
                    - "ONDC:TRV12"
          - operation:
                type: EQUAL
                title: Check search message code
                input:
                  value:
                    - operation:
                        type: READ
                        input:
                          value: "req_body.context.version"
                    - 2.0.0
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.message.intent.fulfillment.stops.0.time.label"
                  - undefined
  callback: "on_search"
  uri:
    $ref: ""
  delay: 300
  payload:
    $ref: "./intercity-bus/template/on_search-gpsflow.yaml"


intercity-bus-gps2:
  condition:
      operation:
        type: AND
        input:
          value:
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.message.intent.fulfillment.vehicle.category"
                  - BUS
          - operation:
                type: EQUAL
                title: Check search message code
                input:
                  value:
                    - operation:
                        type: READ
                        input:
                          value: "req_body.context.domain"
                    - "ONDC:TRV12"
          - operation:
                type: EQUAL
                title: Check search message code
                input:
                  value:
                    - operation:
                        type: READ
                        input:
                          value: "req_body.context.version"
                    - 2.0.0
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.message.intent.fulfillment.stops.0.time.label"
                  - DATE_OF_JOURNEY
  callback: "on_search"
  uri:
    $ref: ""
  delay: 300
  payload:
    $ref: "./intercity-bus/template/on_search-gps-pointab.yaml"


# Metro

metro-station-code-1:
  condition:
      operation:
        type: AND
        input:
          value:
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.message.intent.fulfillment.stops.0.location.gps"
                  - undefined
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.message.intent.fulfillment.vehicle.category"
                  - METRO
          - operation:
                type: EQUAL
                title: Check search message code
                input:
                  value:
                    - operation:
                        type: READ
                        input:
                          value: "req_body.context.domain"
                    - "ONDC:TRV11"
          - operation:
                type: EQUAL
                title: Check search message code
                input:
                  value:
                    - operation:
                        type: READ
                        input:
                          value: "req_body.context.version"
                    - 2.0.0
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.message.intent.fulfillment.stops"
                  - undefined
  callback: "on_search"
  uri:
    $ref: ""
  delay: 300
  payload:
    $ref: "./metro/template/on_search_station-1.yaml"


metro-station-code-2:
  condition:
      operation:
        type: AND
        input:
          value:
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.message.intent.fulfillment.stops.0.location.gps"
                  - undefined
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.message.intent.fulfillment.vehicle.category"
                  - METRO
          - operation:
                type: EQUAL
                title: Check search message code
                input:
                  value:
                    - operation:
                        type: READ
                        input:
                          value: "req_body.context.domain"
                    - "ONDC:TRV11"
          - operation:
                type: EQUAL
                title: Check search message code
                input:
                  value:
                    - operation:
                        type: READ
                        input:
                          value: "req_body.context.version"
                    - 2.0.0
  callback: "on_search"
  uri:
    $ref: ""
  delay: 300
  payload:
    $ref: "./metro/template/on_search_station-2.yaml"


metro-gps-1:
  condition:
      operation:
        type: AND
        input:
          value:
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.message.intent.fulfillment.stops.0.location.descriptor"
                  - undefined
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.message.intent.fulfillment.vehicle.category"
                  - METRO
          - operation:
                type: EQUAL
                title: Check search message code
                input:
                  value:
                    - operation:
                        type: READ
                        input:
                          value: "req_body.context.domain"
                    - "ONDC:TRV11"
          - operation:
                type: EQUAL
                title: Check search message code
                input:
                  value:
                    - operation:
                        type: READ
                        input:
                          value: "req_body.context.version"
                    - 2.0.0
  callback: "on_search"
  uri:
    $ref: ""
  delay: 300
  payload:
    $ref: "./metro/template/on_search_gps1.yaml"



AIRLINE-1:
  condition:
      operation:
        type: AND
        input:
          value:
          - operation:
                type: EQUAL
                title: Check search message code
                input:
                  value:
                    - operation:
                        type: READ
                        input:
                          value: "req_body.message.intent.fulfillment.vehicle.category"
                    - "AIRLINE"
          - operation:
                type: EQUAL
                title: Check search message code
                input:
                  value:
                    - operation:
                        type: READ
                        input:
                          value: "req_body.context.domain"
                    - "ONDC:TRV12"
          - operation:
                type: EQUAL
                title: Check search message code
                input:
                  value:
                    - operation:
                        type: READ
                        input:
                          value: "req_body.context.version"
                    - 2.0.0
          - operation:
                type: EQUAL
                title: Check search message code
                input:
                  value:
                    - operation:
                        type: READ
                        input:
                          value: "req_body.message.intent.fulfillment.id"
                    - undefined
  callback: "on_search"
  uri:
    $ref: ""
  delay: 300
  payload:
    $ref: "./airline/template/on_search.yaml"

AIRLINE-2:
  condition:
      operation:
        type: AND
        input:
          value:
          - operation:
                type: EQUAL
                title: Check search message code
                input:
                  value:
                    - operation:
                        type: READ
                        input:
                          value: "req_body.message.intent.fulfillment.vehicle.category"
                    - "AIRLINE"
          - operation:
                type: EQUAL
                title: Check search message code
                input:
                  value:
                    - operation:
                        type: READ
                        input:
                          value: "req_body.context.domain"
                    - "ONDC:TRV12"
          - operation:
                type: EQUAL
                title: Check search message code
                input:
                  value:
                    - operation:
                        type: READ
                        input:
                          value: "req_body.context.version"
                    - 2.0.0
  callback: "on_search"
  uri:
    $ref: ""
  delay: 300
  payload:
    $ref: "./airline/template/on_search_2.yaml"


on-demand-1:
  condition:
      operation:
        type: AND
        input:
          value:
          - operation:
                type: EQUAL
                title: Check search message code
                input:
                  value:
                    - operation:
                        type: READ
                        input:
                          value: "req_body.context.domain"
                    - "ONDC:TRV10"
          - operation:
                type: EQUAL
                title: Check search message code
                input:
                  value:
                    - operation:
                        type: READ
                        input:
                          value: "req_body.context.version"
                    - 2.0.1
  callback: "on_search"
  uri:
    $ref: ""
  delay: 300
  payload:
    $ref: "./on-demand/template/on_search.yaml"
