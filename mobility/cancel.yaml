default:
  callback: "on_cancel"
  uri:
    $ref: ""
  delay: 300
  payload:
    $ref: "./default/template/error.yaml"

AIRLINE-1:
  condition:
    operation:
      type: AND
      input:
        value:
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.message.order_id"
                  - ITEM_ID_AIRLINE
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.context.domain"
                  - "ONDC:TRV12"
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.context.version"
                  - 2.0.0
  callback: "on_cancel"
  uri:
    $ref: ""
  delay: 300
  payload:
    $ref: "./airline/template/on_cancel.yaml"

on-demand-1:
  condition:
    operation:
      type: AND
      input:
        value:
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: req_body.context.domain
                  - ONDC:TRV10
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: req_body.context.version
                  - 2.0.1
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: req_body.message.descriptor.code
                  - SOFT_CANCEL
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: req_body.message.order_id
                  - ORDER_ID_ON_DEMAND
  callback: on_cancel
  uri:
    $ref: ""
  delay: 300
  payload:
    $ref: ./on-demand/template/on_cancel_1.yaml

on-demand-2:
  condition:
    operation:
      type: AND
      input:
        value:
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: req_body.context.domain
                  - ONDC:TRV10
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: req_body.context.version
                  - 2.0.1
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: req_body.message.descriptor.code
                  - CONFIRM_CANCEL
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: req_body.message.order_id
                  - ORDER_ID_ON_DEMAND
  callback: on_cancel
  uri:
    $ref: ""
  delay: 300
  payload:
    $ref: ./on-demand/template/on_cancel_2.yaml
