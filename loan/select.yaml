default:
  callback: "on_select"
  uri:
    $ref: ""
  delay: 300
  payload:
    $ref: "./default/template/on_select.yaml"


personal-loan-form1:
  condition:
      operation:
        type: AND
        input:
          value:
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.message.order.items.0.id"
                  - "item1_personal-loan"

          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.message.order.items.0.xinput.form_response.submission_id"
                  - "form1_submissionid"
  callback: "on_select"
  uri:
    $ref: ""
  delay: 300
  payload:
    $ref: "./personal-loan/template/on_select_form1.yaml"

personal-loan-form2:
  condition:
      operation:
        type: AND
        input:
          value:
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.message.order.items.0.id"
                  - "item1_personal-loan"
          - operation:
                type: EQUAL
                title: Check search message code
                input:
                  value:
                    - operation:
                        type: READ
                        input:
                          value: "req_body.message.order.items.0.xinput.form_response.submission_id"
                    - "form2_submissionid"
  callback: "on_select"
  uri:
    $ref: ""
  delay: 300
  payload:
    $ref: "./personal-loan/template/on_select_form2.yaml"


#invoice based on select responses
invoice-based-loans_on_select1:
  condition:
      operation:
        type: AND
        input:
          value:
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.message.order.items.0.id"
                  - "item1_invoice-based-loan"
          - operation:
                type: EQUAL
                title: Check search message code
                input:
                  value:
                    - operation:
                        type: READ
                        input:
                          value: "req_body.message.order.items.0.xinput.form_response.submission_id"
                    - "form1_submissionid"
          
  callback: "on_select"
  uri:
    $ref: ""
  delay: 300
  payload:
    $ref: "./invoice-based-loans/template/on_select_1.yaml"

invoice-based-loans_on_select2:
  condition:
      operation:
        type: AND
        input:
          value:
          - operation:
              type: EQUAL
              title: Check search message code
              input:
                value:
                  - operation:
                      type: READ
                      input:
                        value: "req_body.message.order.items.0.id"
                  - "item1_invoice-based-loan"
          - operation:
                type: EQUAL
                title: Check search message code
                input:
                  value:
                    - operation:
                        type: READ
                        input:
                          value: "req_body.message.order.items.0.xinput.form_response.submission_id"
                    - "form2_submissionid"
          
  callback: "on_select"
  uri:
    $ref: ""
  delay: 300
  payload:
    $ref: "./invoice-based-loans/template/on_select_2.yaml"
